{"remainingRequest":"/Applications/XAMPP/xamppfiles/htdocs/contoh/node_modules/babel-loader/lib/index.js!/Applications/XAMPP/xamppfiles/htdocs/contoh/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Applications/XAMPP/xamppfiles/htdocs/contoh/node_modules/vue-loader/lib/index.js??vue-loader-options!/Applications/XAMPP/xamppfiles/htdocs/contoh/src/views/Admin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Applications/XAMPP/xamppfiles/htdocs/contoh/src/views/Admin.vue","mtime":1554002966000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/contoh/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/contoh/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/contoh/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/contoh/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Applications/XAMPP/xamppfiles/htdocs/contoh/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"/Applications/XAMPP/xamppfiles/htdocs/contoh/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport ax from '../services/ApiService';\nimport { mapGetters } from 'vuex';\nexport default {\n  data: function data() {\n    return {\n      name: '',\n      email: '',\n      password: '',\n      passwordConfirm: '',\n      role: '',\n      roleId: 1,\n      submitted: false,\n      msg: '',\n      loading: false,\n      errValidation: ''\n    };\n  },\n  computed: _objectSpread({}, mapGetters(['jwt'])),\n  methods: {\n    hapusjwtvuex: function hapusjwtvuex() {\n      this.$store.dispatch('removeAuth');\n    },\n    submitData: function () {\n      var _submitData = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var getDataRoles, errMsg;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                this.loading = true;\n                _context.next = 4;\n                return ax.postUser({\n                  name: this.name,\n                  email: this.email,\n                  password: this.password,\n                  password_confirmation: this.passwordConfirm,\n                  role_id: this.roleId\n                });\n\n              case 4:\n                getDataRoles = _context.sent;\n\n                if (getDataRoles.status == 201) {\n                  this.role = getDataRoles.data.data;\n                  this.submitted = true;\n                  this.msg = 'Success add new user';\n                  this.loading = false;\n                  this.errValidation = null;\n                }\n\n                _context.next = 14;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](0);\n                this.submitted = true;\n\n                if (_context.t0.response.status == 404) {\n                  errMsg = 'Not found';\n                } else {\n                  console.log(_context.t0.response);\n                  errMsg = \"\".concat(_context.t0.response.data.message);\n                  this.errValidation = _context.t0.response.data.errors;\n                }\n\n                this.msg = \"failed - \".concat(errMsg);\n                this.loading = false;\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 8]]);\n      }));\n\n      function submitData() {\n        return _submitData.apply(this, arguments);\n      }\n\n      return submitData;\n    }()\n  },\n  created: function () {\n    var _created = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee2() {\n      var getDataRoles;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return ax.getRole();\n\n            case 3:\n              getDataRoles = _context2.sent;\n\n              if (getDataRoles.status == 200) {\n                this.role = getDataRoles.data.data;\n              }\n\n              _context2.next = 10;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log(_context2.t0);\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this, [[0, 7]]);\n    }));\n\n    function created() {\n      return _created.apply(this, arguments);\n    }\n\n    return created;\n  }()\n};",{"version":3,"sources":["Admin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA,OAAA,EAAA,MAAA,wBAAA;AACA,SAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,KAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA,EAHA;AAIA,MAAA,eAAA,EAAA,EAJA;AAKA,MAAA,IAAA,EAAA,EALA;AAMA,MAAA,MAAA,EAAA,CANA;AAOA,MAAA,SAAA,EAAA,KAPA;AAQA,MAAA,GAAA,EAAA,EARA;AASA,MAAA,OAAA,EAAA,KATA;AAUA,MAAA,aAAA,EAAA;AAVA,KAAA;AAYA,GAdA;AAeA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,KAAA,CAAA,CADA,CAfA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,YAAA;AACA,KAHA;AAIA,IAAA,UAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA,qBAAA,OAAA,GAAA,IAAA;AANA;AAAA,uBAOA,EAAA,CAAA,QAAA,CAAA;AACA,kBAAA,IAAA,EAAA,KAAA,IADA;AAEA,kBAAA,KAAA,EAAA,KAAA,KAFA;AAGA,kBAAA,QAAA,EAAA,KAAA,QAHA;AAIA,kBAAA,qBAAA,EAAA,KAAA,eAJA;AAKA,kBAAA,OAAA,EAAA,KAAA;AALA,iBAAA,CAPA;;AAAA;AAOA,gBAAA,YAPA;;AAcA,oBAAA,YAAA,CAAA,MAAA,IAAA,GAAA,EAAA;AACA,uBAAA,IAAA,GAAA,YAAA,CAAA,IAAA,CAAA,IAAA;AACA,uBAAA,SAAA,GAAA,IAAA;AACA,uBAAA,GAAA,GAAA,sBAAA;AACA,uBAAA,OAAA,GAAA,KAAA;AACA,uBAAA,aAAA,GAAA,IAAA;AACA;;AApBA;AAAA;;AAAA;AAAA;AAAA;AAsBA,qBAAA,SAAA,GAAA,IAAA;;AACA,oBAAA,YAAA,QAAA,CAAA,MAAA,IAAA,GAAA,EAAA;AACA,kBAAA,MADA,GACA,WADA;AAEA,iBAFA,MAEA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,YAAA,QAAA;AACA,kBAAA,MAAA,aAAA,YAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA;AACA,uBAAA,aAAA,GAAA,YAAA,QAAA,CAAA,IAAA,CAAA,MAAA;AACA;;AACA,qBAAA,GAAA,sBAAA,MAAA;AACA,qBAAA,OAAA,GAAA,KAAA;;AA/BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,GAlBA;AAqDA,EAAA,OArDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAuDA,EAAA,CAAA,OAAA,EAvDA;;AAAA;AAuDA,cAAA,YAvDA;;AAwDA,kBAAA,YAAA,CAAA,MAAA,IAAA,GAAA,EAAA;AACA,qBAAA,IAAA,GAAA,YAAA,CAAA,IAAA,CAAA,IAAA;AACA;;AA1DA;AAAA;;AAAA;AAAA;AAAA;AA4DA,cAAA,OAAA,CAAA,GAAA;;AA5DA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,CAAA","sourcesContent":["<template>\n  <div>\n    <h1>Add New User</h1>\n    <form>\n      <p>\n        <label for=\"name\">name</label>\n        <input type=\"text\" name=\"name\" v-model=\"name\">\n      </p>\n      <p>\n        <label for=\"email\">email</label>\n        <input type=\"text\" name=\"email\" v-model=\"email\">\n      </p>\n      <p>\n        <label for=\"password\">password</label>\n        <input type=\"password\" name=\"password\" v-model=\"password\">\n      </p>\n      <p>\n        <label for=\"password-confirmation\">password confirmation</label>\n        <input type=\"password\" name=\"passwordConfirm\" v-model=\"passwordConfirm\">\n      </p>\n      <p>\n        <label for=\"role_id\">Pilih username :</label>\n        <select name=\"role_id\" id=\"role_id\" v-model=\"roleId\">\n          <option v-for=\"item in role\" :value=\"item.id\" :key=\"item.id\">{{ item.name }}</option>\n        </select>\n      </p>\n    </form>\n    <button type=\"submit\" @click.prevent=\"submitData\" :disabled=\"loading == 1\">submit data</button>\n    <button type=\"button\" @click.prevent=\"hapusjwtvuex\">hapus jwt vuex</button>\n    <p v-if=\"submitted\">{{msg}}</p>\n    <div>\n      <div v-for=\"(er, index) in errValidation\" :key=\"index\">\n        <p v-for=\"(e, i) in er\" :key=\"i\" class=\"error-validation\">{{e}}</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ax from '../services/ApiService';\nimport { mapGetters } from 'vuex';\nexport default {\n  data() {\n    return {\n      name: '',\n      email: '',\n      password: '',\n      passwordConfirm: '',\n      role: '',\n      roleId: 1,\n      submitted: false,\n      msg: '',\n      loading: false,\n      errValidation: ''\n    };\n  },\n  computed: {\n    ...mapGetters(['jwt'])\n  },\n  methods: {\n    hapusjwtvuex() {\n      this.$store.dispatch('removeAuth');\n    },\n    async submitData() {\n      try {\n        this.loading = true;\n        const getDataRoles = await ax.postUser({\n          name: this.name,\n          email: this.email,\n          password: this.password,\n          password_confirmation: this.passwordConfirm,\n          role_id: this.roleId\n        });\n        if (getDataRoles.status == 201) {\n          this.role = getDataRoles.data.data;\n          this.submitted = true;\n          this.msg = 'Success add new user';\n          this.loading = false;\n          this.errValidation = null;\n        }\n      } catch (error) {\n        this.submitted = true;\n        if (error.response.status == 404) {\n          var errMsg = 'Not found';\n        } else {\n          console.log(error.response);\n          errMsg = `${error.response.data.message}`;\n          this.errValidation = error.response.data.errors;\n        }\n        this.msg = `failed - ${errMsg}`;\n        this.loading = false;\n      }\n    }\n  },\n  async created() {\n    try {\n      const getDataRoles = await ax.getRole();\n      if (getDataRoles.status == 200) {\n        this.role = getDataRoles.data.data;\n      }\n    } catch (error) {\n      console.log(error);\n    }\n\n    // this.selected = this.role.find(i => i.id === this.selected);\n  }\n};\n</script>\n\n<style scoped>\n.error-validation {\n  color: red;\n  padding: 10px;\n  margin: 5px;\n  display: inline-block;\n}\n</style>\n"],"sourceRoot":"src/views"}]}