{"remainingRequest":"/Applications/XAMPP/xamppfiles/htdocs/contoh/node_modules/babel-loader/lib/index.js!/Applications/XAMPP/xamppfiles/htdocs/contoh/node_modules/eslint-loader/index.js??ref--13-0!/Applications/XAMPP/xamppfiles/htdocs/contoh/src/store.js","dependencies":[{"path":"/Applications/XAMPP/xamppfiles/htdocs/contoh/src/store.js","mtime":1554890009677},{"path":"/Applications/XAMPP/xamppfiles/htdocs/contoh/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/contoh/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/contoh/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Applications/XAMPP/xamppfiles/htdocs/contoh/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport router from './router';\nimport { TokenService, ProfileService, FieldService } from './services/TokenService';\nimport ApiService from './services/ApiService';\nVue.use(Vuex); // Vue.use(axios)\n\nexport default new Vuex.Store({\n  state: {\n    currentJWT: '',\n    // errorMessage: '',\n    error: false,\n    dataProfile: '',\n    dataField: '',\n    loggedIn: false\n  },\n  getters: {\n    jwt: function jwt(state) {\n      return state.currentJWT;\n    },\n    // errorMessage: state => state.errorMessage,\n    error: function error(state) {\n      return state.error;\n    },\n    dataProfile: function dataProfile(state) {\n      return state.dataProfile;\n    },\n    dataField: function dataField(state) {\n      return state.dataField;\n    },\n    loggedIn: function loggedIn(state) {\n      return state.loggedIn;\n    }\n  },\n  mutations: {\n    setJWT: function setJWT(state, jwt) {\n      state.currentJWT = jwt;\n    },\n    // setMessage(state, msg) {\n    //   state.errorMessage = msg;\n    //   state.error = true;\n    // },\n    setDataProfile: function setDataProfile(state, data) {\n      state.dataProfile = data;\n    },\n    setDataField: function setDataField(state, data) {\n      state.dataField = data;\n    },\n    setLoggedIn: function setLoggedIn(state, bool) {\n      state.loggedIn = bool;\n    }\n  },\n  actions: {\n    fetchJWT: function () {\n      var _fetchJWT = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(context, cred) {\n        var response;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return ApiService.login({\n                  grant_type: 'password',\n                  client_id: 5,\n                  client_secret: 'xvVLooYnTZNHGXxgtBa7iZ5jc9UKIA6kT4gVdugh',\n                  username: cred.username,\n                  password: cred.password,\n                  scope: '*'\n                });\n\n              case 3:\n                response = _context.sent;\n                //set token to vuex store\n                context.commit('setJWT', response.data); //set token to local storage\n\n                TokenService.saveToken(response.data);\n                return _context.abrupt(\"return\", response);\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](0);\n                return _context.abrupt(\"return\", _context.t0.response);\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 9]]);\n      }));\n\n      function fetchJWT(_x, _x2) {\n        return _fetchJWT.apply(this, arguments);\n      }\n\n      return fetchJWT;\n    }(),\n    fetchProfile: function () {\n      var _fetchProfile = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(context) {\n        var response;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return ApiService.getProfile();\n\n              case 3:\n                response = _context2.sent;\n                //set token to vuex store\n                context.commit('setDataProfile', response.data.data); //set token to local storage\n\n                ProfileService.saveProfile(response.data.data); //set flag logged in\n\n                context.commit('setLoggedIn', true);\n                return _context2.abrupt(\"return\", response);\n\n              case 10:\n                _context2.prev = 10;\n                _context2.t0 = _context2[\"catch\"](0);\n                return _context2.abrupt(\"return\", _context2.t0.response);\n\n              case 13:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[0, 10]]);\n      }));\n\n      function fetchProfile(_x3) {\n        return _fetchProfile.apply(this, arguments);\n      }\n\n      return fetchProfile;\n    }(),\n    fetchField: function () {\n      var _fetchField = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3(context) {\n        var response;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.next = 3;\n                return ApiService.getField();\n\n              case 3:\n                response = _context3.sent;\n                //set token to vuex store\n                context.commit('setDataField', response.data.data); //set token to local storage\n\n                FieldService.saveField(response.data.data); //set flag logged in\n\n                context.commit('setLoggedIn', true);\n                return _context3.abrupt(\"return\", response);\n\n              case 10:\n                _context3.prev = 10;\n                _context3.t0 = _context3[\"catch\"](0);\n                return _context3.abrupt(\"return\", _context3.t0.response);\n\n              case 13:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[0, 10]]);\n      }));\n\n      function fetchField(_x4) {\n        return _fetchField.apply(this, arguments);\n      }\n\n      return fetchField;\n    }(),\n    getLocalJWT: function () {\n      var _getLocalJWT = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee4(context) {\n        var tokenLocal, profileLocal, fieldLocal;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                tokenLocal = TokenService.getToken();\n                profileLocal = ProfileService.getProfile();\n                fieldLocal = FieldService.getField();\n\n                if (!(tokenLocal != null)) {\n                  _context4.next = 11;\n                  break;\n                }\n\n                context.commit('setJWT', tokenLocal);\n                context.commit('setDataProfile', profileLocal);\n                context.commit('setDataField', fieldLocal);\n                context.commit('setLoggedIn', true);\n                return _context4.abrupt(\"return\", true);\n\n              case 11:\n                return _context4.abrupt(\"return\", false);\n\n              case 12:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function getLocalJWT(_x5) {\n        return _getLocalJWT.apply(this, arguments);\n      }\n\n      return getLocalJWT;\n    }(),\n    removeAuth: function removeAuth(context) {\n      //push back to login\n      router.push({\n        name: 'login'\n      }); //back to previous page before logout, to set redirect-params url when login\n\n      router.go(-1); //remove local storage data\n\n      TokenService.removeToken();\n      ProfileService.removeProfile();\n      FieldService.removeField(); //remove vuex data\n\n      context.commit('setJWT', '');\n      context.commit('setDataProfile', '');\n      context.commit('setDataField', '');\n      context.commit('setLoggedIn', false);\n      return true;\n    }\n  }\n});",{"version":3,"sources":["/Applications/XAMPP/xamppfiles/htdocs/contoh/src/store.js"],"names":["Vue","Vuex","router","TokenService","ProfileService","FieldService","ApiService","use","Store","state","currentJWT","error","dataProfile","dataField","loggedIn","getters","jwt","mutations","setJWT","setDataProfile","data","setDataField","setLoggedIn","bool","actions","fetchJWT","context","cred","login","grant_type","client_id","client_secret","username","password","scope","response","commit","saveToken","fetchProfile","getProfile","saveProfile","fetchField","getField","saveField","getLocalJWT","tokenLocal","getToken","profileLocal","fieldLocal","removeAuth","push","name","go","removeToken","removeProfile","removeField"],"mappings":"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","sourcesContent":["import Vue from 'vue';\nimport Vuex from 'vuex';\nimport router from './router';\nimport {\n  TokenService,\n  ProfileService,\n  FieldService\n} from './services/TokenService';\nimport ApiService from './services/ApiService';\n\nVue.use(Vuex);\n// Vue.use(axios)\n\nexport default new Vuex.Store({\n  state: {\n    currentJWT: '',\n    // errorMessage: '',\n    error: false,\n    dataProfile: '',\n    dataField: '',\n    loggedIn: false\n  },\n\n  getters: {\n    jwt: state => state.currentJWT,\n    // errorMessage: state => state.errorMessage,\n    error: state => state.error,\n    dataProfile: state => state.dataProfile,\n    dataField: state => state.dataField,\n    loggedIn: state => state.loggedIn,\n  },\n\n  mutations: {\n    setJWT(state, jwt) {\n      state.currentJWT = jwt;\n    },\n    // setMessage(state, msg) {\n    //   state.errorMessage = msg;\n    //   state.error = true;\n    // },\n    setDataProfile(state, data) {\n      state.dataProfile = data;\n    },\n    setDataField(state, data) {\n      state.dataField = data;\n    },\n    setLoggedIn(state, bool) {\n      state.loggedIn = bool;\n    },\n  },\n\n  actions: {\n    async fetchJWT(context, cred) {\n      try {\n        // Perform the HTTP request.\n        const response = await ApiService.login({\n          grant_type: 'password',\n          client_id: 5,\n          client_secret: 'xvVLooYnTZNHGXxgtBa7iZ5jc9UKIA6kT4gVdugh',\n          username: cred.username,\n          password: cred.password,\n          scope: '*'\n        });\n\n        //set token to vuex store\n        context.commit('setJWT', response.data);\n        //set token to local storage\n        TokenService.saveToken(response.data);\n        return response;\n      } catch (error) {\n        // context.commit('setMessage', error);\n        return error.response;\n      }\n\n    },\n\n    async fetchProfile(context) {\n      try {\n        const response = await ApiService.getProfile();\n        //set token to vuex store\n        context.commit('setDataProfile', response.data.data);\n        //set token to local storage\n        ProfileService.saveProfile(response.data.data);\n        //set flag logged in\n        context.commit('setLoggedIn', true);\n        return response;\n      } catch (error) {\n        return error.response;\n      }\n    },\n\n    async fetchField(context) {\n      try {\n        const response = await ApiService.getField();\n        //set token to vuex store\n        context.commit('setDataField', response.data.data);\n        //set token to local storage\n        FieldService.saveField(response.data.data);\n        //set flag logged in\n        context.commit('setLoggedIn', true);\n        return response;\n      } catch (error) {\n        return error.response;\n      }\n    },\n    async getLocalJWT(context) {\n      let tokenLocal = TokenService.getToken();\n      let profileLocal = ProfileService.getProfile();\n      let fieldLocal = FieldService.getField();\n      if (tokenLocal != null) {\n        context.commit('setJWT', tokenLocal);\n        context.commit('setDataProfile', profileLocal);\n        context.commit('setDataField', fieldLocal);\n        context.commit('setLoggedIn', true);\n        return true;\n      } else {\n        return false;\n      }\n    },\n\n    removeAuth(context) {\n      //push back to login\n      router.push({\n        name: 'login',\n      });\n      //back to previous page before logout, to set redirect-params url when login\n      router.go(-1);\n      //remove local storage data\n      TokenService.removeToken();\n      ProfileService.removeProfile();\n      FieldService.removeField();\n      //remove vuex data\n      context.commit('setJWT', '');\n      context.commit('setDataProfile', '');\n      context.commit('setDataField', '');\n      context.commit('setLoggedIn', false);\n\n      return true;\n    }\n  }\n});\n"]}]}